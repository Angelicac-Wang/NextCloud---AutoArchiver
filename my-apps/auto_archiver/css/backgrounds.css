/* ==================== é€šç”¨èƒŒæ™¯è¦†è“‹è¨­å®š ==================== */
/* è¦†è“‹ Nextcloud Theming çš„èƒŒæ™¯ç³»çµ± */

/* ==================== å…¨åŸŸ Header æ¨£å¼ ==================== */
/* é è¨­ç´…è‰²åŠé€æ˜èƒŒæ™¯ */
#header {
    /* background-color: rgba(220, 38, 38, 0.5) !important; */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 4px 12px rgba(73, 63, 29, 0.3);
}

/* ==================== é è¨­èƒŒæ™¯ï¼ˆé¿å…é–ƒçˆï¼‰ ==================== */
/* åœ¨ JavaScript è¨­å®š data-app ä¹‹å‰ï¼Œå…ˆå¥—ç”¨é è¨­èƒŒæ™¯ */
/* ä½¿ç”¨è¼ƒä½å„ªå…ˆç´šï¼Œæœƒè¢«å…·é«”åˆ†é çš„èƒŒæ™¯è¦†è“‹ */
html:not(:has(body[data-app])),
body#body-user:not(.dashboard):not([data-app]) {
    --image-background: url('../public/files_bg.png') !important;
    --color-background-plain: transparent !important;
    background-image: url('../public/files_bg.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-attachment: fixed !important;
    background-color: transparent !important;
}

/* ==================== Dashboard èƒŒæ™¯ ==================== */
/* 1. è¦†è“‹ CSS è®Šæ•¸ - åªé‡å° Dashboard */
body#body-user.dashboard,
body#body-user[data-app="dashboard"] {
    --image-background: url('../public/dashboard_bg.jpg') !important;
    --color-background-plain: transparent !important;
}

/* 2. ç›´æ¥è¦†è“‹ body å’Œ html çš„èƒŒæ™¯å±¬æ€§ï¼ˆæœ€é«˜å„ªå…ˆç´šï¼‰ */
html:has(body#body-user.dashboard),
html:has(body#body-user[data-app="dashboard"]),
body#body-user.dashboard,
body#body-user[data-app="dashboard"] {
    background-image: url('../public/dashboard_bg.jpg') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-attachment: fixed !important;
    background-color: transparent !important;
}

/* Dashboard å…§éƒ¨å®¹å™¨è¨­ç‚ºé€æ˜ */
#body-user.dashboard #content-vue,
#body-user.dashboard #content,
#body-user.dashboard #app-dashboard,
body[data-app="dashboard"] #content-vue,
body[data-app="dashboard"] #content,
body[data-app="dashboard"] #app-dashboard {
    background: transparent !important;
}

/* è¦†è“‹ Nextcloud çš„ wrapper å®¹å™¨ */
#body-user.dashboard .wrapper,
body[data-app="dashboard"] .wrapper {
    background: transparent !important;
}

/* Dashboard é®ç½©ï¼ˆè®“æ–‡å­—æ›´æ¸…æ¥šï¼‰
body[data-app="dashboard"] #app-dashboard::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.2);
    pointer-events: none;
    z-index: 0;
} */

body[data-app="dashboard"] #app-dashboard > * {
    position: relative;
    z-index: 1;
}

/* Dashboard ä¸­å¤® Slogan åœ–ç‰‡ */
body[data-app="dashboard"] #app-dashboard > h2,
body#body-user.dashboard #app-dashboard > h2 {
    /* éš±è—åŸæœ¬çš„ã€Œå—¨ã€æ–‡å­— */
    font-size: 0 !important;
    line-height: 0 !important;
    text-indent: -9999px !important;

    /* è¨­å®šå®¹å™¨å¤§å°ä»¥å®¹ç´åœ–ç‰‡ */
    width: 100%;
    max-width: 800px;
    height: 300px;
    margin: 200px auto 40px !important;

    /* åŠ å…¥èƒŒæ™¯åœ–ç‰‡ */
    background-image: url('../public/slogan.png') !important;
    background-size: contain !important;
    background-position: center !important;
    background-repeat: no-repeat !important;

    /* ç¢ºä¿å¯è¦‹ */
    display: block !important;
    overflow: hidden;
}

/* ==================== Files èƒŒæ™¯ - å¸æ®¿ä¸»é¡Œ ==================== */
/* ğŸ›ï¸ Imperial Palace Theme - è¯éº—ã€å¯Œè²´ã€çš‡å®¶æ°£æ´¾ */

/* 1. è¦†è“‹ CSS è®Šæ•¸ - å¸æ®¿ä¸»é¡Œé…è‰² */
body#body-user[data-app="files"],
body[data-app="files"] {
    /* èƒŒæ™¯åœ–ç‰‡ */
    --image-background: url('../public/files_bg.png') !important;
    --color-background-plain: transparent !important;

    /* ä¸»è¦é…è‰² */
    --color-main-background: transparent !important; /* æš–é»ƒè‰²å®®ç‰†èƒŒæ™¯ */
    --color-main-background-blur: rgba(255, 248, 231, 0.5) !important; /* å´é‚Šæ¬„åŠé€æ˜èƒŒæ™¯ */
    --color-main-text: #3B1E06 !important; /* æ·±æ£•è‰²å¢¨è‰² */
    --color-primary: #D4AF37 !important; /* çš‡å®¶é‡‘è‰² */
    --color-primary-element: #D4AF37 !important;
    --color-primary-text: #3B1E06 !important;
    --color-primary-element-text: #3B1E06 !important;

    /* å¼·èª¿è‰² */
    --color-error: #C8102E !important; /* æœ±ç´…è‰² */
    --color-warning: #D4AF37 !important; /* é‡‘è‰² */
    --color-success: #46ba61 !important;

    /* é‚Šæ¡†é¡è‰² - é‡‘è‰²ç³» */
    --color-border: #D4AF37 !important;
    --color-border-dark: #8B6914 !important;
    --color-border-maxcontrast: #C19B28 !important;

    /* Hover å’Œäº’å‹•ç‹€æ…‹é¡è‰² */
    --color-background-hover: rgba(212, 175, 55, 0.3) !important; /* é‡‘è‰²åŠé€æ˜ hover */
    --color-background-dark: rgba(212, 175, 55, 0.4) !important; /* é‡‘è‰²æ·±è‰²ç‹€æ…‹ */
    --color-primary-element-hover: rgba(212, 175, 55, 0.55) !important; /* Primary å…ƒç´  hover - é‡‘è‰² */
    --color-primary-element-light: rgba(212, 175, 55, 0.35) !important; /* é‡‘è‰²æ·ºè‰²å…ƒç´  */
    --color-primary-element-light-hover: rgba(212, 175, 55, 0.45) !important; æ·ºè‰²å…ƒç´  hover
}

/* 2. ç›´æ¥è¦†è“‹ body å’Œ html çš„èƒŒæ™¯å±¬æ€§ï¼ˆæœ€é«˜å„ªå…ˆç´šï¼‰ */
html:has(body[data-app="files"]),
body#body-user[data-app="files"],
body[data-app="files"] {
    background-image: url('../public/files_bg.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-attachment: fixed !important;
    background-color: transparent !important;
}

/* Files å…§éƒ¨å®¹å™¨ - ä¿æŒèƒŒæ™¯åœ–å¯è¦‹ */
body[data-app="files"] #content-vue,
body[data-app="files"] #content {
    background: transparent !important;
}

/* Files wrapper å®¹å™¨ */
body[data-app="files"] .wrapper {
    background: transparent !important;
}

/* 3. Header æœ±ç´…è‰²æ¼¸è®ŠèƒŒæ™¯ï¼ˆå¸æ®¿ç‰¹è‰²ï¼‰ - åŠé€æ˜æ¯›ç»ç’ƒæ•ˆæœ */
body[data-app="files"] #header {
    /* background: linear-gradient(135deg,
        rgba(200, 16, 46, 0.95) 0%,
        rgba(160, 8, 42, 0.9) 100%) !important; */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
}

/* 4. ä¸»è¦æŒ‰éˆ•é‡‘è‰²æ¼¸è®Š */
body[data-app="files"] .button.primary,
body[data-app="files"] button.primary,
body[data-app="files"] .primary-action,
body[data-app="files"] button[aria-label="æ–°å¢"],
body[data-app="files"] .button--vue-primary,
body[data-app="files"] .action-item__menutoggle--primary {
    background: linear-gradient(135deg, #D4AF37 0%, #C19B28 100%) !important;
    color: #3B1E06 !important;
    border: 1px solid #8B6914 !important;
}

body[data-app="files"] .button.primary:hover,
body[data-app="files"] button.primary:hover,
body[data-app="files"] .primary-action:hover,
body[data-app="files"] button[aria-label="æ–°å¢"]:hover,
body[data-app="files"] .button--vue-primary:hover {
    background: linear-gradient(135deg, #E5C048 0%, #D4AF37 100%) !important;
}

/* 5. å´é‚Šæ¬„ï¼ˆapp-navigationï¼‰é‡‘è‰²è£é£¾ */
body[data-app="files"] #app-navigation,
body[data-app="files"] .app-navigation-personal,
body[data-app="files"] .app-navigation-administration {
    background-color: rgba(255, 248, 231, 0.7) !important;
    border-right: 2px solid #D4AF37 !important;
    box-shadow: 2px 0 4px rgba(212, 175, 55, 0.2);
}

/* å´é‚Šæ¬„é …ç›®é è¨­æ¨£å¼ */
body[data-app="files"] #app-navigation li,
body[data-app="files"] #app-navigation li a,
body[data-app="files"] #app-navigation li a span,
body[data-app="files"] #app-navigation .app-navigation-entry-link {
    color: #3B1E06 !important;
    background-color: transparent !important;
}

/* Hover æ•ˆæœ - é‡‘è‰²åŠé€æ˜èƒŒæ™¯ */
body[data-app="files"] #app-navigation li:hover,
body[data-app="files"] #app-navigation li a:hover,
body[data-app="files"] #app-navigation li a:focus,
body[data-app="files"] #app-navigation .app-navigation-entry-link:hover {
    background-color: rgba(212, 175, 55, 0.2) !important;
}

/* Active ç‹€æ…‹ - é‡‘è‰²èƒŒæ™¯ + å·¦å´å¼·èª¿ç·š */
body[data-app="files"] #app-navigation li.active,
body[data-app="files"] #app-navigation li a.active,
body[data-app="files"] #app-navigation li.active > a,
body[data-app="files"] #app-navigation .app-navigation-entry-link.active {
    background-color: rgba(212, 175, 55, 0.4) !important;
    border-left: 3px solid #D4AF37 !important;
    font-weight: bold;
}

/* å´é‚Šæ¬„æŒ‰éˆ•å’Œåœ–ç¤º */
body[data-app="files"] #app-navigation button,
body[data-app="files"] #app-navigation .app-navigation-entry-button {
    color: #3B1E06 !important;
}

body[data-app="files"] #app-navigation button:hover {
    background-color: rgba(212, 175, 55, 0.15) !important;
}

/* ç¢ºä¿åœ–ç¤ºä¹Ÿæ˜¯æ­£ç¢ºé¡è‰² */
body[data-app="files"] #app-navigation svg,
body[data-app="files"] #app-navigation .icon {
    fill: #3B1E06 !important;
    color: #3B1E06 !important;
}

/* 6. å…§å®¹å€åŸŸæ•´é«”èƒŒæ™¯ - åŒ…å«å·¥å…·åˆ—å’Œæª”æ¡ˆåˆ—è¡¨ */
body[data-app="files"] #app-content,
body[data-app="files"] #app-content-vue {
    background-color: rgba(255, 248, 231, 0.6) !important;
    backdrop-filter: blur(10px);
}

/* 7. Files åˆ—è¡¨å€åŸŸåŠé€æ˜èƒŒæ™¯ */
body[data-app="files"] .files-list {
    background-color: transparent !important;
}

/* 8. ä¸Šæ–¹å·¥å…·åˆ—ï¼ˆæ‰€æœ‰æª”æ¡ˆã€æ–°å¢ç­‰æŒ‰éˆ•å€åŸŸï¼‰- ç¨å¾®æ·±ä¸€é» */
body[data-app="files"] .files-controls,
body[data-app="files"] #app-content-vue > header {
    background-color: rgba(255, 248, 231, 0.6) !important;
    border-bottom: 2px solid rgba(212, 175, 55, 0.4);
    padding: 10px;
}

body[data-app="files"] div.editor.editor-media-handler.text-editor__main, 
body[data-app="files"] div.files-list__filters,
body[data-app="files"] .text-menubar {
    background-color: transparent !important;
}

/* 9. æ–°å¢æŒ‰éˆ•çš„æ–‡å­—é¡è‰² */
body[data-app="files"] .button-vue__text ,
body[data-app="files"] .button-vue__icon ,
body[data-app="files"] .nc-chip__text{
    color: #3B1E06 !important;
}



/* 12. Hover æ•ˆæœçµ±ä¸€ - é‡‘è‰²åŠé€æ˜ */
/* æª”æ¡ˆåˆ—è¡¨è¡Œ hover */
body[data-app="files"] .files-list tbody tr:hover {
    background-color: rgba(212, 175, 55, 0.3) !important;
}

/* æŒ‰éˆ• hoverï¼ˆé™¤äº† primary æŒ‰éˆ•ï¼‰ */
body[data-app="files"] button:not(.primary):hover,
body[data-app="files"] .button:not(.primary):hover {
    background-color: rgba(212, 175, 55, 0.3) !important;
}

/* é€£çµå’Œå¯é»æ“Šå…ƒç´  hover */
body[data-app="files"] a:hover:not(.primary),
body[data-app="files"] .clickable:hover {
    background-color: rgba(212, 175, 55, 0.3) !important;
}

/* ä¸‹æ‹‰é¸å–®é …ç›® hover */
body[data-app="files"] .v-popper__inner ul li:hover,
body[data-app="files"] .popovermenu li:hover {
    background-color: rgba(212, 175, 55, 0.3) !important;
}

/* 13. Pop-up å½ˆå‡ºé¸å–®ä¸é€æ˜èƒŒæ™¯ */
/* ç¢ºä¿ pop-up é¸å–®æœ‰ä¸é€æ˜çš„åº•è‰²ï¼Œé¿å…çœ‹åˆ°ä¸‹æ–¹å…§å®¹ */
body[data-app="files"] .v-popper__inner,
body[data-app="files"] .popovermenu,
body[data-app="files"] .bubble,
body[data-app="files"] .app-navigation-entry-menu {
    background-color: rgba(255, 248, 231, 0.98) !important; /* æš–é»ƒè‰²å®®ç‰†èƒŒæ™¯ï¼Œå¹¾ä¹ä¸é€æ˜ */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(212, 175, 55, 0.3) !important; /* é‡‘è‰²é‚Šæ¡† */
}

/* Pop-up é¸å–®å…§çš„é …ç›®æ–‡å­—é¡è‰² */
body[data-app="files"] .v-popper__inner ul li,
body[data-app="files"] .popovermenu ul li,
body[data-app="files"] .popovermenu ul li a,
body[data-app="files"] .popovermenu ul li button {
    color: #3B1E06 !important; /* æ·±æ£•è‰²å¢¨è‰² */
}

/* ==================== Settings èƒŒæ™¯ ==================== */
body#body-user[data-app="settings"],
html:has(body[data-app="settings"]) {
    --image-background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    --color-background-plain: #667eea !important;
}

body#body-user[data-app="settings"] {
    background-image: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
}

/* ==================== å…¶ä»–åˆ†é çš„é è¨­èƒŒæ™¯ ==================== */
/* å¦‚æœéœ€è¦ç‚ºå…¶ä»–åˆ†é è¨­å®šèƒŒæ™¯ï¼Œå¯ä»¥æŒ‰ç…§ä¸Šé¢çš„æ ¼å¼æ·»åŠ  */
